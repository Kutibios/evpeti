<div class="sitter-profile-container">
  <div class="sitter-profile-card">
    <div class="sitter-profile-header">
      <div class="logo-container">
        <img src="assets/logo.png" alt="EvPeti Logo" class="logo" (click)="goHome()">
      </div>
      <h1>{{ isEditMode ? 'ğŸ  Ä°lan DÃ¼zenle' : 'ğŸ  BakÄ±cÄ± Profili OluÅŸtur' }}</h1>
      <p>{{ isEditMode ? 'BakÄ±cÄ±lÄ±k ilanÄ±nÄ±zÄ± gÃ¼ncelleyin' : 'BakÄ±cÄ±lÄ±k hizmetiniz iÃ§in ilan oluÅŸturun' }}</p>
    </div>

    <form class="sitter-profile-form" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="title">Ä°lan BaÅŸlÄ±ÄŸÄ± *</label>
        <input 
          type="text" 
          id="title" 
          name="title" 
          [(ngModel)]="listingForm.title" 
          required 
          placeholder="Ä°lan baÅŸlÄ±ÄŸÄ±nÄ± girin">
      </div>

      <div class="form-group">
        <label for="price">GÃ¼nlÃ¼k Ãœcret (TL) *</label>
        <input 
          type="number" 
          id="price" 
          name="price" 
          [(ngModel)]="listingForm.price" 
          required 
          min="0" 
          step="0.01" 
          placeholder="GÃ¼nlÃ¼k Ã¼cret">
      </div>

      <div class="form-group">
        <label for="location">Konum *</label>
        <input 
          type="text" 
          id="location" 
          name="location" 
          [(ngModel)]="listingForm.location" 
          required 
          placeholder="Åehir/Ä°lÃ§e bilgisi">
      </div>

      <div class="form-group">
        <label for="experience">Deneyim (YÄ±l)</label>
        <input 
          type="number" 
          id="experience" 
          name="experience" 
          [(ngModel)]="listingForm.experience" 
          min="0" 
          max="50" 
          placeholder="Deneyim yÄ±lÄ±">
      </div>

      <div class="form-group">
        <label for="services">Hizmet TÃ¼rleri</label>
        <textarea 
          id="services" 
          name="services" 
          [(ngModel)]="listingForm.services" 
          rows="2" 
          placeholder="Ev bakÄ±cÄ±lÄ±ÄŸÄ±, gÃ¼nlÃ¼k bakÄ±m, gece bakÄ±mÄ± vb."></textarea>
      </div>

      <div class="form-group">
        <label for="description">Hizmet AÃ§Ä±klamasÄ±</label>
        <textarea 
          id="description" 
          name="description" 
          [(ngModel)]="listingForm.description" 
          rows="5" 
          placeholder="Deneyimleriniz, Ã¶zel hizmetleriniz, ev ortamÄ±nÄ±z hakkÄ±nda bilgi verin..."></textarea>
      </div>

      <div class="form-group">
        <label for="imageUploads">Ev FotoÄŸraflarÄ±</label>
        <div class="image-upload-container">
          <!-- Mevcut fotoÄŸraflar -->
          <div class="existing-images" *ngIf="listingForm.imageUrls && listingForm.imageUrls.length > 0">
            <div class="image-item" *ngFor="let imageUrl of listingForm.imageUrls; let i = index">
              <img [src]="imageUrl" alt="Ev fotoÄŸrafÄ±" class="preview-image">
              <button type="button" class="remove-image-btn" (click)="removeExistingImage(i)" title="FotoÄŸrafÄ± kaldÄ±r">
                âœ•
              </button>
            </div>
          </div>
          
          <!-- Yeni fotoÄŸraf yÃ¼kleme -->
          <div class="upload-area" *ngIf="selectedFiles.length < 5">
            <input 
              type="file" 
              id="imageUploads" 
              name="imageUploads" 
              (change)="onImagesSelected($event)" 
              accept="image/*"
              multiple
              class="file-input">
            <div class="upload-placeholder">
              <span class="upload-icon">ğŸ </span>
              <p>FotoÄŸraf seÃ§mek iÃ§in tÄ±klayÄ±n</p>
              <small>JPG, PNG, GIF (Max: 5MB, En fazla 5 fotoÄŸraf)</small>
            </div>
          </div>
          
          <!-- SeÃ§ilen fotoÄŸraflar preview -->
          <div class="selected-images" *ngIf="selectedImages.length > 0">
            <div class="image-item" *ngFor="let image of selectedImages; let i = index">
              <img [src]="image" alt="SeÃ§ilen fotoÄŸraf" class="preview-image">
              <button type="button" class="remove-image-btn" (click)="removeSelectedImage(i)" title="FotoÄŸrafÄ± kaldÄ±r">
                âœ•
              </button>
            </div>
          </div>
          
          <!-- Upload progress -->
          <div class="upload-progress" *ngIf="uploadProgress > 0 && uploadProgress < 100">
            <div class="progress-bar">
              <div class="progress-fill" [style.width.%]="uploadProgress"></div>
            </div>
            <span class="progress-text">{{ uploadProgress }}%</span>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="isActive">Durum</label>
        <select id="isActive" name="isActive" [(ngModel)]="listingForm.isActive">
          <option [ngValue]="true">Aktif</option>
          <option [ngValue]="false">Pasif</option>
        </select>
      </div>

      <!-- Error Message -->
      <div class="error-message" *ngIf="errorMessage">
        <div class="error-icon">âš ï¸</div>
        <p>{{ errorMessage }}</p>
      </div>

      <!-- Success Message -->
      <div class="success-message" *ngIf="successMessage">
        <div class="success-icon">âœ…</div>
        <p>{{ successMessage }}</p>
      </div>

      <div class="form-buttons">
        <button type="button" class="cancel-btn" (click)="onCancel()">
          Ä°ptal
        </button>
        <button type="submit" class="submit-btn" [disabled]="isLoading">
          <span *ngIf="!isLoading">{{ isEditMode ? 'GÃ¼ncelle' : 'Ä°lan OluÅŸtur' }}</span>
          <span *ngIf="isLoading" class="loading-text">{{ isEditMode ? 'GÃ¼ncelleniyor...' : 'OluÅŸturuluyor...' }}</span>
        </button>
      </div>
    </form>
  </div>
</div> 