<div class="sitter-profile-container">
  <div class="sitter-profile-card">
    <div class="sitter-profile-header">
      <div class="logo-container">
        <img src="assets/logo.png" alt="EvPeti Logo" class="logo" (click)="goHome()">
      </div>
      <h1>{{ isEditMode ? 'ğŸ  Ä°lan DÃ¼zenle' : 'ğŸ  BakÄ±cÄ± Profili OluÅŸtur' }}</h1>
      <p>{{ isEditMode ? 'BakÄ±cÄ±lÄ±k ilanÄ±nÄ±zÄ± gÃ¼ncelleyin' : 'BakÄ±cÄ±lÄ±k hizmetiniz iÃ§in ilan oluÅŸturun' }}</p>
    </div>

    <form class="sitter-profile-form" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="title">Ä°lan BaÅŸlÄ±ÄŸÄ± *</label>
        <input 
          type="text" 
          id="title" 
          name="title" 
          [(ngModel)]="listingForm.title" 
          required 
          placeholder="Ä°lan baÅŸlÄ±ÄŸÄ±nÄ± girin">
      </div>

      <div class="form-group">
        <label for="type">Hayvan TÃ¼rÃ¼ *</label>
        <select 
          id="type" 
          name="type" 
          [(ngModel)]="listingForm.type" 
          required>
          <option value="">Hayvan tÃ¼rÃ¼ seÃ§in</option>
          <option value="KÃ¶pek">KÃ¶pek</option>
          <option value="Kedi">Kedi</option>
          <option value="KuÅŸ">KuÅŸ</option>
          <option value="BalÄ±k">BalÄ±k</option>
          <option value="Hamster">Hamster</option>
          <option value="TavÅŸan">TavÅŸan</option>
          <option value="DiÄŸer">DiÄŸer</option>
        </select>
      </div>

      <div class="form-group">
        <label for="price">GÃ¼nlÃ¼k Ãœcret (TL) *</label>
        <input 
          type="number" 
          id="price" 
          name="price" 
          [(ngModel)]="listingForm.price" 
          required 
          min="0" 
          step="0.01" 
          placeholder="GÃ¼nlÃ¼k Ã¼cret">
      </div>

      <div class="form-group">
        <label for="location">Konum *</label>
        <input 
          type="text" 
          id="location" 
          name="location" 
          [(ngModel)]="listingForm.location" 
          required 
          placeholder="Åehir/Ä°lÃ§e bilgisi">
      </div>

      <div class="form-group">
        <label for="experience">Deneyim (YÄ±l)</label>
        <input 
          type="number" 
          id="experience" 
          name="experience" 
          [(ngModel)]="listingForm.experience" 
          min="0" 
          max="50" 
          placeholder="Deneyim yÄ±lÄ±">
      </div>

      <div class="form-group">
        <label for="startDate">BaÅŸlangÄ±Ã§ Tarihi *</label>
        <input 
          type="date" 
          id="startDate" 
          name="startDate" 
          [(ngModel)]="listingForm.startDate" 
          required>
      </div>

      <div class="form-group">
        <label for="endDate">BitiÅŸ Tarihi *</label>
        <input 
          type="date" 
          id="endDate" 
          name="endDate" 
          [(ngModel)]="listingForm.endDate" 
          required>
      </div>

      <div class="form-group">
        <label for="services">Hizmet TÃ¼rleri</label>
        <textarea 
          id="services" 
          name="services" 
          [(ngModel)]="listingForm.services" 
          rows="2" 
          placeholder="Ev bakÄ±cÄ±lÄ±ÄŸÄ±, gÃ¼nlÃ¼k bakÄ±m, gece bakÄ±mÄ± vb."></textarea>
      </div>

      <div class="form-group">
        <label for="description">Hizmet AÃ§Ä±klamasÄ±</label>
        <textarea 
          id="description" 
          name="description" 
          [(ngModel)]="listingForm.description" 
          rows="5" 
          placeholder="Deneyimleriniz, Ã¶zel hizmetleriniz, ev ortamÄ±nÄ±z hakkÄ±nda bilgi verin..."></textarea>
      </div>

      <div class="form-group">
        <label for="isAvailable">MÃ¼saitlik Durumu</label>
        <select id="isAvailable" name="isAvailable" [(ngModel)]="listingForm.isAvailable">
          <option [ngValue]="true">Aktif (MÃ¼sait)</option>
          <option [ngValue]="false">Pasif (MÃ¼sait DeÄŸil)</option>
        </select>
      </div>

      <div class="form-group">
        <label for="imageUrls">Ev FotoÄŸraflarÄ± (URL)</label>
        <div class="image-url-container">
          <!-- Mevcut fotoÄŸraflar -->
          <div class="existing-images" *ngIf="listingForm.imageUrls && listingForm.imageUrls.length > 0">
            <div class="image-item" *ngFor="let imageUrl of listingForm.imageUrls; let i = index">
              <img [src]="imageUrl" alt="Ev fotoÄŸrafÄ±" class="preview-image">
              <button type="button" class="remove-image-btn" (click)="removeExistingImage(i)" title="FotoÄŸrafÄ± kaldÄ±r">
                âœ•
              </button>
            </div>
          </div>
          
          <!-- Yeni fotoÄŸraf URL ekleme -->
          <div class="url-input-area" *ngIf="listingForm.imageUrls.length < 5">
            <div class="url-input-group">
              <input 
                type="url" 
                id="newImageUrl" 
                name="newImageUrl" 
                [(ngModel)]="newImageUrl" 
                placeholder="FotoÄŸraf URL'si girin (Ã¶rn: https://example.com/photo.jpg)"
                class="url-input">
              <button 
                type="button" 
                class="add-url-btn" 
                (click)="addImageUrl()" 
                [disabled]="!newImageUrl || newImageUrl.trim() === ''">
                Ekle
              </button>
            </div>
            <small class="url-help">En fazla 5 fotoÄŸraf ekleyebilirsiniz</small>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="isActive">Durum</label>
        <select id="isActive" name="isActive" [(ngModel)]="listingForm.isActive">
          <option [ngValue]="true">Aktif</option>
          <option [ngValue]="false">Pasif</option>
        </select>
      </div>

      <!-- Error Message -->
      <div class="error-message" *ngIf="errorMessage">
        <div class="error-icon">âš ï¸</div>
        <p>{{ errorMessage }}</p>
      </div>

      <!-- Success Message -->
      <div class="success-message" *ngIf="successMessage">
        <div class="success-icon">âœ…</div>
        <p>{{ successMessage }}</p>
      </div>

      <div class="form-buttons">
        <button type="button" class="cancel-btn" (click)="onCancel()">
          Ä°ptal
        </button>
        <button type="submit" class="submit-btn" [disabled]="isLoading">
          <span *ngIf="!isLoading">{{ isEditMode ? 'GÃ¼ncelle' : 'Ä°lan OluÅŸtur' }}</span>
          <span *ngIf="isLoading" class="loading-text">{{ isEditMode ? 'GÃ¼ncelleniyor...' : 'OluÅŸturuluyor...' }}</span>
        </button>
      </div>
    </form>
  </div>
</div> 